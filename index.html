<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4학년 1학기 수학 형성평가 - 뛰어 세기</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap');

        :root {
            --primary-color: #4a90e2;
            --secondary-color: #f5f7fa;
            --text-color: #333;
            --border-color: #ddd;
            --correct-color: #2ecc71;
            --wrong-color: #e74c3c;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: #f0f2f5;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 20px;
        }

        h1 {
            color: var(--primary-color);
            margin-bottom: 10px;
            font-size: 1.8rem;
        }

        .info {
            font-size: 0.9rem;
            color: #666;
            background-color: var(--secondary-color);
            padding: 10px;
            border-radius: 8px;
            display: inline-block;
        }

        .question-card {
            margin-bottom: 30px;
            padding: 25px;
            border: 1px solid var(--border-color);
            border-radius: 10px;
            background-color: #fff;
            transition: transform 0.2s;
        }

        .question-card:hover {
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .q-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            font-weight: bold;
            color: #555;
            font-size: 0.9rem;
        }

        .q-text {
            font-size: 1.1rem;
            margin-bottom: 20px;
            font-weight: 500;
        }

        .q-box {
            background-color: var(--secondary-color);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            text-align: center;
            border: 1px dashed #bbb;
        }

        .options label {
            display: block;
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .options label:hover {
            background-color: #f9f9f9;
        }

        .options input[type="radio"] {
            margin-right: 10px;
        }

        input[type="text"], textarea {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-family: inherit;
            box-sizing: border-box;
        }

        textarea {
            height: 100px;
            resize: vertical;
        }

        .btn-submit {
            display: block;
            width: 100%;
            padding: 15px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.3s;
            margin-top: 20px;
        }

        .btn-submit:hover {
            background-color: #357abd;
        }

        .result-section {
            display: none; /* 초기에는 숨김 */
            margin-top: 20px;
            padding: 20px;
            border-top: 1px solid #eee;
            background-color: #fbfbfb;
            border-radius: 0 0 10px 10px;
        }

        .explanation {
            margin-top: 10px;
            font-size: 0.95rem;
            color: #444;
            line-height: 1.5;
        }

        .correct-answer {
            color: var(--correct-color);
            font-weight: bold;
            margin-bottom: 5px;
        }

        .status-badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 4px;
            color: white;
            font-size: 0.8rem;
            margin-left: 10px;
            vertical-align: middle;
        }

        .status-correct {
            background-color: var(--correct-color);
        }

        .status-wrong {
            background-color: var(--wrong-color);
        }
        
        .status-check {
            background-color: #f39c12; /* 서술형 자가채점용 */
        }

        .score-board {
            text-align: center;
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 30px;
            padding: 20px;
            background-color: #e8f4fd;
            border-radius: 10px;
            color: var(--primary-color);
            display: none;
        }

    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>4학년 1학기 수학 형성평가</h1>
        <div class="info">
            단원: 1. 큰 수 (뛰어 세기를 해볼까요) &nbsp;|&nbsp; 문항수: 5문항
        </div>
    </header>

    <div id="scoreBoard" class="score-board"></div>

    <form id="quizForm">
        
        <!-- 문제 1 -->
        <div class="question-card" id="q1-card">
            <div class="q-header">
                <span>1번 문항</span>
                <span>배점: 20점 | 난이도: 하</span>
            </div>
            <div class="q-text">
                다음 숫자 배열의 규칙을 찾아 빈칸에 들어갈 알맞은 수는 무엇입니까?
                <div class="q-box">
                    3250억 － 3350억 － 3450억 － ( ㉠ ) － 3650억
                </div>
            </div>
            <div class="options">
                <label><input type="radio" name="q1" value="1"> ① 3460억</label>
                <label><input type="radio" name="q1" value="2"> ② 3550억</label>
                <label><input type="radio" name="q1" value="3"> ③ 3560억</label>
                <label><input type="radio" name="q1" value="4"> ④ 4450억</label>
                <label><input type="radio" name="q1" value="5"> ⑤ 3550조</label>
            </div>
            <div class="result-section" id="res-q1"></div>
        </div>

        <!-- 문제 2 -->
        <div class="question-card" id="q2-card">
            <div class="q-header">
                <span>2번 문항</span>
                <span>배점: 20점 | 난이도: 중</span>
            </div>
            <div class="q-text">
                100만 원짜리 수표를 10장씩 묶어서 세고 있습니다. 지금 2900만 원까지 세었다면, 다음에 셀 금액은 얼마입니까?
            </div>
            <div class="options">
                <label><input type="radio" name="q2" value="1"> ① 2910만 원</label>
                <label><input type="radio" name="q2" value="2"> ② 3000만 원</label>
                <label><input type="radio" name="q2" value="3"> ③ 3900만 원</label>
                <label><input type="radio" name="q2" value="4"> ④ 2900억 원</label>
                <label><input type="radio" name="q2" value="5"> ⑤ 3000억 원</label>
            </div>
            <div class="result-section" id="res-q2"></div>
        </div>

        <!-- 문제 3 -->
        <div class="question-card" id="q3-card">
            <div class="q-header">
                <span>3번 문항</span>
                <span>배점: 20점 | 난이도: 중</span>
            </div>
            <div class="q-text">
                어떤 규칙에 따라 뛰어 세기를 한 것입니다. ( ㉠ )에 들어갈 수로 알맞은 것을 쓰세요. (단위 포함)
                <div class="q-box">
                    [보기] 423조 － 523조 － 623조 － ( ㉠ ) － 823조
                </div>
            </div>
            <div>
                <input type="text" name="q3" placeholder="예: 100조" autocomplete="off">
            </div>
            <div class="result-section" id="res-q3"></div>
        </div>

        <!-- 문제 4 -->
        <div class="question-card" id="q4-card">
            <div class="q-header">
                <span>4번 문항</span>
                <span>배점: 20점 | 난이도: 상</span>
            </div>
            <div class="q-text">
                2억 5000만에서 1000만씩 거꾸로 뛰어 세기를 3번 하였을 때 나오는 수를 쓰세요. (단위 포함)
            </div>
            <div>
                <input type="text" name="q4" placeholder="예: 1억 5000만" autocomplete="off">
            </div>
            <div class="result-section" id="res-q4"></div>
        </div>

        <!-- 문제 5 (서술형) -->
        <div class="question-card" id="q5-card">
            <div class="q-header">
                <span>5번 문항 (서술형)</span>
                <span>배점: 20점 | 난이도: 상</span>
            </div>
            <div class="q-text">
                다음은 민준이가 뛰어 세기를 한 것입니다. 민준이가 잘못 구한 곳을 찾아 바르게 고치고, 그 이유를 설명하세요.
                <div class="q-box" style="text-align: left; font-size: 0.95rem;">
                    "9980억에서 10억씩 뛰어 세기를 하면<br>
                    9980억 － 9990억 － 10000억 － 10010억 순서로 커져."
                </div>
                <p style="margin-top:10px; font-size: 0.9rem; color: #666;">
                    * 답안 작성 요령: (1) 잘못된 수, (2) 바르게 고친 수, (3) 이유를 포함하여 적어주세요.
                </p>
            </div>
            <div>
                <textarea name="q5" placeholder="내용을 입력하세요."></textarea>
            </div>
            <div class="result-section" id="res-q5"></div>
        </div>

        <button type="button" class="btn-submit" onclick="submitQuiz()">채점 하기</button>
    </form>
</div>

<script>
    function submitQuiz() {
        let score = 0;
        const totalScore = 100; // 서술형 포함 만점 가정
        let autoScore = 0; // 자동 채점 점수

        // --- 정답 데이터 ---
        const answers = {
            q1: "2",
            q2: "2",
            q3: ["723조", "칠백이십삼조"],
            q4: ["2억 2000만", "2억2000만", "이억 이천만", "이억이천만"]
        };

        // --- 해설 데이터 ---
        const explanations = {
            q1: "<strong>[해설]</strong> 백억의 자리 숫자가 1씩 커지고 있으므로 100억씩 뛰어 세는 규칙입니다.<br>3450억보다 100억 큰 수는 <strong>3550억</strong>입니다.",
            q2: "<strong>[해설]</strong> 100만 원짜리 10장은 <strong>1000만 원</strong>입니다. 2900만 원에서 1000만 원을 더하면(뛰어 세면) <strong>3000만 원</strong>이 됩니다.",
            q3: "<strong>[해설]</strong> 백조의 자리 숫자가 4, 5, 6 순으로 커지므로 100조씩 뛰어 세는 규칙입니다.<br>623조 다음 수는 <strong>723조</strong>입니다.",
            q4: "<strong>[해설]</strong> '거꾸로 뛰어 세기'는 빼는 것입니다. 2억 5000만에서 1000만씩 3번 빼면<br>2억 4000만 → 2억 3000만 → <strong>2억 2000만</strong>이 됩니다.",
            q5: "<strong>[모범 답안]</strong><br>(1) 잘못된 수: 10000억<br>(2) 바르게 고친 수: 1조<br>(3) 이유: 9990억 다음 10억이 더해지면 10000억이 되는데, 이는 1조와 같으므로 '1조'라고 써야 합니다.<br><br><strong>[자가 점검]</strong><br>- 잘못된 수(10000억)를 찾았나요?<br>- 바르게 고친 수(1조)를 썼나요?<br>- 10000억이 1조로 단위가 바뀌는 원리를 설명했나요?"
        };

        // --- 채점 로직 ---

        // Q1 (객관식)
        const q1Val = document.querySelector('input[name="q1"]:checked')?.value;
        const resQ1 = document.getElementById('res-q1');
        resQ1.style.display = 'block';
        if (q1Val === answers.q1) {
            autoScore += 20;
            resQ1.innerHTML = `<div class="correct-answer">정답입니다! <span class="status-badge status-correct">정답</span></div><div class="explanation">${explanations.q1}</div>`;
            document.getElementById('q1-card').style.borderColor = "var(--correct-color)";
        } else {
            resQ1.innerHTML = `<div class="correct-answer" style="color:var(--wrong-color)">오답입니다. (정답: ②) <span class="status-badge status-wrong">오답</span></div><div class="explanation">${explanations.q1}</div>`;
            document.getElementById('q1-card').style.borderColor = "var(--wrong-color)";
        }

        // Q2 (객관식)
        const q2Val = document.querySelector('input[name="q2"]:checked')?.value;
        const resQ2 = document.getElementById('res-q2');
        resQ2.style.display = 'block';
        if (q2Val === answers.q2) {
            autoScore += 20;
            resQ2.innerHTML = `<div class="correct-answer">정답입니다! <span class="status-badge status-correct">정답</span></div><div class="explanation">${explanations.q2}</div>`;
            document.getElementById('q2-card').style.borderColor = "var(--correct-color)";
        } else {
            resQ2.innerHTML = `<div class="correct-answer" style="color:var(--wrong-color)">오답입니다. (정답: ②) <span class="status-badge status-wrong">오답</span></div><div class="explanation">${explanations.q2}</div>`;
            document.getElementById('q2-card').style.borderColor = "var(--wrong-color)";
        }

        // Q3 (주관식)
        const q3Val = document.querySelector('input[name="q3"]').value.trim(); // 공백 제거
        const resQ3 = document.getElementById('res-q3');
        resQ3.style.display = 'block';
        // 정답 배열 중 하나라도 포함되면 정답 처리 (간단한 로직)
        if (answers.q3.includes(q3Val)) {
            autoScore += 20;
            resQ3.innerHTML = `<div class="correct-answer">정답입니다! <span class="status-badge status-correct">정답</span></div><div class="explanation">${explanations.q3}</div>`;
            document.getElementById('q3-card').style.borderColor = "var(--correct-color)";
        } else {
            resQ3.innerHTML = `<div class="correct-answer" style="color:var(--wrong-color)">오답입니다. (정답: 723조) <span class="status-badge status-wrong">오답</span></div><div class="explanation">${explanations.q3}</div>`;
            document.getElementById('q3-card').style.borderColor = "var(--wrong-color)";
        }

        // Q4 (주관식)
        const q4Val = document.querySelector('input[name="q4"]').value.replace(/\s+/g, ''); // 모든 공백 제거 후 비교
        const resQ4 = document.getElementById('res-q4');
        resQ4.style.display = 'block';
        // 정답 배열 확인 (사용자 입력도 공백 제거했으므로 정답키도 공백 없는 버전과 비교)
        const isCorrectQ4 = answers.q4.some(ans => ans.replace(/\s+/g, '') === q4Val);
        
        if (isCorrectQ4) {
            autoScore += 20;
            resQ4.innerHTML = `<div class="correct-answer">정답입니다! <span class="status-badge status-correct">정답</span></div><div class="explanation">${explanations.q4}</div>`;
            document.getElementById('q4-card').style.borderColor = "var(--correct-color)";
        } else {
            resQ4.innerHTML = `<div class="correct-answer" style="color:var(--wrong-color)">오답입니다. (정답: 2억 2000만) <span class="status-badge status-wrong">오답</span></div><div class="explanation">${explanations.q4}</div>`;
            document.getElementById('q4-card').style.borderColor = "var(--wrong-color)";
        }

        // Q5 (서술형) - 자동 채점 불가, 해설 노출
        const resQ5 = document.getElementById('res-q5');
        resQ5.style.display = 'block';
        resQ5.innerHTML = `<div class="correct-answer" style="color:#f39c12">서술형 문항은 아래 모범 답안과 비교해보세요. <span class="status-badge status-check">확인</span></div><div class="explanation">${explanations.q5}</div>`;
        document.getElementById('q5-card').style.borderColor = "#f39c12";


        // 점수판 표시
        const scoreBoard = document.getElementById('scoreBoard');
        scoreBoard.style.display = 'block';
        scoreBoard.innerHTML = `객관식/단답형 점수: ${autoScore}점 / 80점<br><span style="font-size:1rem; font-weight:normal; color:#666;">(서술형 20점은 자가 채점 해주세요)</span>`;
        
        // 스크롤 상단 이동
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }
</script>

</body>
</html>